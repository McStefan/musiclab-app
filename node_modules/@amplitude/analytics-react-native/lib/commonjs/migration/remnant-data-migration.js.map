{"version":3,"names":["_reactNative","require","_analyticsCore","RemnantDataMigration","constructor","apiKey","instanceName","storage","firstRunSinceUpgrade","logger","eventsStorageKey","STORAGE_PREFIX","substring","nativeModule","NativeModules","AmplitudeReactNative","execute","moveIdentifies","moveInterceptedIdentifies","moveEvents","sessionData","callNativeFunction","getLegacySessionData","moveLegacyEvents","action","e","_this$logger","error","String","undefined","callNativeAction","_this$logger2","eventKind","legacyJsonEvents","getLegacyEvents","length","events","get","eventIds","forEach","jsonEvent","event","convertLegacyEvent","push","event_id","set","eventId","removeLegacyEvent","legacyJsonEvent","JSON","parse","library","timestamp","uuid","api_properties","name","version","time","insert_id","androidADID","android_app_set_id","ios_idfa","ios_idfv","productId","quantity","price","location","adid","idfa","idfv","lat","lng","location_lat","location_lng","$productId","$quantity","$price","$revenueType","revenueType","exports","default"],"sourceRoot":"../../../src","sources":["migration/remnant-data-migration.ts"],"mappings":"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","ignoreList":[]}